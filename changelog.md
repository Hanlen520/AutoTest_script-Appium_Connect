## Change Log

### upcoming (2018/03/05 08:24 +00:00)
V3.2.7.180302
    1、修复一些错误

V3.2.6.180201
    1、修复邮件发送逻辑
    2、删除普通定时cycle关键词

V3.2.5.180131
    1、调整邮件发送逻辑，进程关闭即发送测试报告

V3.2.4.180131
    1、F1331新增一键配网，APP解绑，电量统计用例
    2、修复以往用例decode('hex')，兼容py2和py3

V3.2.3.180131
    1、修复定时用例错误，已可跑通
    2、LaunchAppiumServices，GetSerial多进程终结使用Value代替deamon
    3、更新元素库
    4、使用多进程读取串口数据

update .gitignore
[修复] 修复gitignore文件不生效

V3.2.2.180126
    1、修复logger模块针对py3的编码错误。
    2、修复json模块针对py3的编码错误。

V3.2.1.180126
    1、修复小bug

V3.2.0.180126
    1、Python2版本移植Python3，修改了大部分内容
    2、新增F1331定时用例
    3、找到元素新增属性px，__setattr__
    4、Python3 os.popen读取乱码，采用subprocess.check_output代替

V3.2.0.180120
    1、兼容Android7.0，本地安装appium apk代替appium服务安装。
    2、页面控件属性无法识别，使用截图代替判断。
    3、优化读取手机信息速度。单部手机读取速度从10S提升至3S

V3.1.3.180117
    1、更新basepwd文件示例
    2、Appium，mail进程设置daemon属性，主进程关闭子进程自动退出
    3、修正shellcommand操作

V3.1.2.180116
    1、更新配网输入密码界面元素库
    2、新增基础密码文件读取规则
    3、用例开关操作检测语句调整

[文档] 更新readme.md
[修复]完善密码格式示例
[配置]新增密码文件格式
[文档]修复readme.md
[文档]新增README.md，LICENSE，requirements.txt，说明图片
整理项目格式

V3.1.1.180109
    1、logger日志整理，去除logger模块，统一使用debug模块。
    2、F1331定时用例多层并发，使用事件驱动整合设备log识别。

V3.1.0.171227
    1、使用多线程与消息队列的匹配实现定时状态的识别。

V3.0.2.171222
    1、GN-F1331开关状态UI和log并行调试通过。

V3.0.2.171220
    1、新增GN-F1331测试用例
    2、调整INPUT_CASE文件位置

V3.0.1.171215
    1、拆分脚本，适配单个设备用例库。
    2、优化appium服务启动模块。
    3、优化psutil轮询子进程

V2.3.21.171208
    1、统一各模块传参数据格式
    2、appium服务稳定性调试

V2.3.20.171207
    1、修改部分格式问题

V2.3.19.171206
    1、优化appium服务崩溃后不能重新启动的问题。

V2.3.18.171205
    1、修复一些bug
    2、更新京东微联用例

V2.3.17.171203
    1、修复阿里智能用例错误

V2.3.16.171201
    1、修改邮件发送功能和附件内容

V2.3.15.171201
    1、修复一些bug

V2.3.14.171129
    update

V2.3.14.171128
    1、删除多余文件

V2.3.14.171128
    1、更新华为智能家居,阿里智能，京东微联操作API
    2、删除所有用例case_over(True)
    3、Launch_app启动APP方式改变，不使用launch_app来启动，使用http启动

V2.3.13.171127
    1、修复智能家居用例错误
    2、修复发送邮件可能附件为空的情况

V2.3.12.171124
    1、更新华为智能家居操作API
    2、更新智能家居用例

V2.3.11.171123
    1、删除多余文件

V2.3.11.171123
    1、从MacOS损坏系统盘中恢复代码
    2、更新阿里智能用例

V2.3.10.171120
    1、更新调试文件

V2.3.9.171117
    1、更新阿里智能iOS元素库
    2、修复阿里智能API的大量错误

V2.3.8.171110
    1、更新阿里智能ios元素库

V2.3.8.171110
    1、取消用例操作前的屏幕唤醒tap,可能会导致异常问题
    2、更新华为元素库

V2.3.7.171109
    1、修复阿里智能操作unit错误
    2、优化代码结构
    3、完善代码注释
    4、完善阿里智能登录操作逻辑
    5、修复控件操作单元WidgetCheckUnit文件的操作逻辑，添加debug日志

V2.3.6.171108
    1、删除所有god_page元素库，删除元素库元素text附加属性，相应WidgetCheckUnit做修改
    2、添加注释
    3、修复阿里页面操作设置时间滚轮的错误

V2.3.5.171107
    1、更新处理逻辑

V2.3.4.171107
    1、更新阿里智能iOS元素库
    2、优化APP登录登出的处理逻辑
    3、更新部分元素处理逻辑

V2.3.3.171106
    1、新增华为智能家居用例
    2、更新元素库
    3、修复bug

V2.3.2.171103
    1、更新华为智能家居Android和ios元素库
    2、优化代码

V2.3.1.171103
    1、更新智能家居元素库

V2.3.0.171103
    1、多进程传参bug修复
    2、新增智能家居相关脚本

V2.2.17.171102
    1、添加注释，优化代码逻辑

V2.2.17.171101
    1、添加注释，优化代码逻辑

V2.2.16.171031
    1、格式化代码

V2.2.16.171031
    1、添加注释

V2.2.16.171030
    1、修复bug

V2.2.16.171030
    1、新增阿里智能用例
    2、更新元素库
    3、修复bug

V2.2.15.171027
    1、添加用例
    2、更新元素库
    3、更新阿里智能动态调试库

V2.2.14.171024
    1、京东用例新增log记录
    2、修改WidgetCheckUnit中widget_click的处理逻辑，由超时设置改为次数操作
    3、更新阿里操作封装库
    4、更新阿里元素库
    5、公牛用例新增错误信息

V2.2.3.171016
    1、新增控件操作库，用例操作代码统一化

V2.2.12.171016
    1、更新阿里智能元素库
    2、将用例操作提取，新增控件操作单元文件

V2.2.11.171011
    1、新增京东微联iOS元素库
    2、新增京东微联测试用例

V2.2.10.171010
    1、新增测试用例

V2.2.9.171010
    1、新增测试用例，修复bug

V2.2.8.171006
    1、新增京东用例

V2.2.8.170930
    1、新增京东微联安卓用例库
    2、完成安卓京东微联用例定时模块

V2.2.7.170927
    1、更新元素库
    2、优化定时检测逻辑

V2.2.6.170926
    1、新增京东微联安卓用例库
    2、更新元素库
    3、新增定时设置模板和定时检查模板

V2.2.5.170924
    1、添加用例
    2、更新元素库
    3、新增动态调试库

V2.2.4.170924
    1、编写京东微联测试用例
    2、新增编辑定时操作

V2.2.3.170922
    1、更新京东用例

V2.2.3.170921
    1、新增阿里智能元素库
    2、新增用例操作单元的find_elements判断
    3、优化appium命令，新增password等元素属性

V2.2.2.170917
    1、适配iOS

V2.2.1.170917
    1、删掉没有什么卵用的进程守护，除了appium进程会挂掉其他进程都不会挂掉。appium服务的进程由subprocess去启动。

V2.2.0.170917
    1、修正conf文件及ReadConf文件
    2、新增自有封装swipe函数
    3、APP命令超时时间由600s改为999999s
    4、新增导入三方库copy，a为list，b=a，修改b的值，a的值也会变。则b=copy.copy(a)
    5、修改安卓京东微联元素库
    6、修改appiumCommand导入逻辑
    7、修改shellCommand中find_pid可能会错误的点
    8、appium启动由subprocess.Popen启动，每秒检测端口是否被占用，若appium服务已死亡，则杀掉所有子进程后再杀掉appium服务进程，避免出现孤进程。这阵对appium服务没死亡却又不处于监听状态的假死状态非常有效，处于假死状态服务虽在，但端口已断开，检测端口断开后会杀掉appium进程后重启。或许也可以避免使用OS模块杀掉进程时报出的OSError异常
    9、appium服务断开后，使用Launch_app会出错，错误信息为空，故在WebDriverException异常加入判断错误信息为空直接使用http启动APP而不是Launch_app启动app

V2.1.4.170917
    1、新增自动元素库初始化函数

V2.1.3.170915
    1、新增或者删除测试用例后input_case文件修改，手动修改太麻烦

V2.1.2.170914
    1、删除无效函数

V2.1.1.170914
    1、修复用例操作
    2、更新京东微联元素库，在Mac OS上appium不允许使用name查找
    3、针对动态元素，设计一套定位方案。使用字典描述元素库

V2.0.14.170914
    1、调试安卓时发现port和bp_port端口竟然会选取一样的，排查发现GetPhoneInfo的selected_port在端口间隔占用时没有做跳过处理，已修复
    2、将WidgetCheckUnit中is_displayed函数删除
    3、删除多余文件

V2.0.14.170914
    1、iOS元素库中有些元素就算显示了调用is_displayed()函数依然为FALSE，取消WidgetCheckUnit中is_displayed函数
    2、新增京东微联用例

V2.0.13.170912
    1、精简用例代码

V2.0.12.170908
    1、修复用例错误
    2、优化杀死appium服务后sel.driver的属性
    3、新增操作单元检测元素是否显示
    4、更新元素库

V2.0.11.170907
    1、完善一键配网用例操作顺序及匹配方式
    2、修改账号已登录没设备时，页面回跳点击位置
    3、完善元素操作单元，新增find_elements的方式采用参数plural
    4、为了寻找节点的兄弟元素，通过element.parent发现节点的父元素类型和driver是一样的，都为WebDriver形式，属性相同，故在用例操作单元新增driver的选择。
    5、完善京东微联安卓元素库

V2.0.10.170907
    1、优化文件导入

V2.0.9.170907
    1、新增京东登录测试用例
    2、优化LaunchApp_GN文件show_pwd的处理逻辑，代码量更少
    3、LaunchApp_JD文件加入check_user_pwd处理
    4、京东微联APP登录页面CheckBox无法获取checked属性，采用获取密码框内容的方式判断密码是否显示；而配网页面CheckBox能获取该属性，针对此现象LaunchApp_JD文件check_user_pwd做了处理
    5、京东微联APP新增ToDevicePage处理
    6、更正京东微联APPToLoginPage处理
    7、更新京东微联元素库
    8、AppiumCommand新增判断页面是否显示的处理

V2.0.8.170905
    1、去除CheckPage操作冗余，WidgetCheckUnit.py
    2、京东登录页面完善

V2.0.7.170904
    1、新增阿里智能元素库文件，内容没变
    2、修复邮件发送bug

V2.0.6.170904
    1、更新京东微联登录页面元素库
    2、优化代码逻辑

V2.0.5.170901
    1、针对京东微联搜索到非待配置设备时的页面进行逻辑优化，并更新元素库
    2、新增GitHub忽略文件

V2.0.4.170901
    1、子进程内的参数主进程无法获取，所以信息通过文件传输

V2.0.1.170901
    1、京东用例代码元素有遗漏，修复
    2、更正京东元素库

V2.0.0.170831
    1、为兼容多APP测试，许多文件进行拆分
    2、新增京东微联APP测试用例
    3、确定文件命名方式就是独立的命名，要合拢再不带后缀